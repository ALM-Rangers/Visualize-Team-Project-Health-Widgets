define(["TFS/Build/Contracts","TFS/Build/RestClient","VSS/Controls","VSS/Controls/Combos"],function(t,e,n,i){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=11)}([function(e,n){e.exports=t},function(t,n){t.exports=e},,,,function(t,e){t.exports=n},function(t,e){t.exports=i},,,,,function(t,e,n){var i,o,r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function u(t){try{a(i.next(t))}catch(t){r(t)}}function s(t){try{a(i.throw(t))}catch(t){r(t)}}function a(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(u,s)}a((i=i.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,r&&(u=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(u=u.call(r,n[1])).done)return u;switch(r=0,u&&(n=[0,u.value]),n[0]){case 0:case 1:u=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!u||n[1]>u[0]&&n[1]<u[3])){a.label=n[1];break}if(6===n[0]&&a.label<u[1]){a.label=u[1],u=n;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(n);break}u[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],r=0}finally{o=u=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,r,u,s,a={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};i=[n,e,n(0),n(1),n(5),n(6)],void 0!==(o=function(t,e,n,i,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),VSS.require(["TFS/Dashboards/WidgetHelpers"],function(t){t.IncludeWidgetConfigurationStyles(),VSS.register("TPHealth-OverviewWidget-Configuration",function(){return new a(t)}),VSS.notifyLoadSucceeded()});var a=function(){function t(t){this.WidgetHelpers=t,this.widgetConfigurationContext=null,this.combo=null,this.buildDefinitionDropDown=$(".build-definition-container"),this.showAll=$("#showAll")}return t.prototype.load=function(t,e){return r(this,void 0,void 0,function(){var r,a,c,l,f,d,p,g,h;return u(this,function(u){switch(u.label){case 0:return this.widgetConfigurationContext=e,r=JSON.parse(t.customSettings.data),a=null,r&&(a=r.selectedDefinitions),c="Select build definition(s)",$("#definitionLegend").text(c),l=VSS.getWebContext(),f=i.getClient(),[4,f.getDefinitions(l.project.id,void 0,void 0,void 0,void 0,n.DefinitionQueryOrder.DefinitionNameAscending)];case 1:return d=u.sent(),p=d.map(function(t){return t.name}),g={maxRowCount:4},h={dropOptions:g,source:p,type:"multi-value",value:a},this.combo=o.create(s.Combo,this.buildDefinitionDropDown,h),this.notifyOnChange(this.buildDefinitionDropDown),[2,this.WidgetHelpers.WidgetStatusHelper.Success()]}})})},t.prototype.getCustomSettings=function(){var t={selectedDefinitions:this.combo.getText()};return{data:JSON.stringify(t)}},t.prototype.onSave=function(){return this.WidgetHelpers.WidgetConfigurationSave.Valid(this.getCustomSettings())},t.prototype.notifyOnChange=function(t){var e=this;t.change(function(){e.widgetConfigurationContext.notify(e.WidgetHelpers.WidgetEvent.ConfigurationChange,e.WidgetHelpers.WidgetEvent.Args(e.getCustomSettings()))})},t}();e.OverviewConfiguration=a}.apply(e,i))&&(t.exports=o)}])});